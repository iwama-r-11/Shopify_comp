<div id="about_shiro">

  <div class="tab_container">
    <div class="page_width">
      <div class="tab" style="display: flex; flex-direction: column-reverse;">
        <ul class="tab__menu">
          <li class="tab__menu-item is-active" data-tab="01">{{ section.settings.tab_title_01 }}</li>
          <li class="tab__menu-item" data-tab="02">{{ section.settings.tab_title_02 }}</li>
          <li class="tab__menu-item" data-tab="03">{{ section.settings.tab_title_03 }}</li>
          <li class="tab__menu-item" data-tab="04">{{ section.settings.tab_title_04 }}</li>
        </ul>
  
        <div class="tab__panel">
  
          <div class="tab__panel-box tab__panel-box001 is-show" data-panel="01">
            <div class="tab_container">
              {% if section.settings.tab_image_01 == blank %}
              <img src="//cdn.shopify.com/s/files/1/0834/8965/3022/files/2024-02-19_9.37.58_6d413ff2-acac-4ae6-8c09-0e303d1df75a.jpg?v=1708303304" alt="">
              {% else %}
              <img src="{{ section.settings.tab_image_01 | image_url }}">
              {% endif %}
                
              <div class="tab_text">
                <h2 class="Title">{{ section.settings.title }}</h2>
                <h3 class="SubTitle">{{ section.settings.tab_content_01 }}</h3>
              </div>
            </div>
          </div>
  
          <div class="tab__panel-box tab__panel-box002" data-panel="02">
            <div class="tab_container">
              {% if section.settings.tab_image_02 == blank %}
              <img src="//cdn.shopify.com/s/files/1/0834/8965/3022/files/2024-02-19_9.37.58_6d413ff2-acac-4ae6-8c09-0e303d1df75a.jpg?v=1708303304" alt="">
              {% else %}
              <img src="{{ section.settings.tab_image_02 | image_url }}">
              {% endif %}
              <div class="tab_text">
                <h2 class="Title">{{ section.settings.title }}</h2>
                <h3 class="SubTitle">{{ section.settings.tab_content_02 }}</h3>
              </div>
            </div>
          </div>
  
          <div class="tab__panel-box tab__panel-box003" data-panel="03">
            <div class="tab_container">
              {% if section.settings.tab_image_03 == blank %}
              <img src="//cdn.shopify.com/s/files/1/0834/8965/3022/files/2024-02-19_9.37.58_6d413ff2-acac-4ae6-8c09-0e303d1df75a.jpg?v=1708303304" alt="">
              {% else %}
              <img src="{{ section.settings.tab_image_03 | image_url }}">
              {% endif %}
              <div class="tab_text">
                <h2 class="Title">{{ section.settings.title }}</h2>
                <h3 class="SubTitle">{{ section.settings.tab_content_03 }}</h3>
              </div>
            </div>
          </div>
  
          <div class="tab__panel-box tab__panel-box004" data-panel="04">
            <div class="tab_container">
              {% if section.settings.tab_image_04 == blank %}
              <img src="//cdn.shopify.com/s/files/1/0834/8965/3022/files/2024-02-19_9.37.58_6d413ff2-acac-4ae6-8c09-0e303d1df75a.jpg?v=1708303304" alt="">
              {% else %}
              <img src="{{ section.settings.tab_image_04 | image_url }}">
              {% endif %}
              <div class="tab_text">
                <h2 class="Title">{{ section.settings.title }}</h2>
                <h3 class="SubTitle">{{ section.settings.tab_content_04 }}</h3>
              </div>
            </div>
          </div>
  
        </div>
      </div>
    </div>
  </div>
  
  
  <style>
    #about_shiro ,
    #about_shiro .about_fv .abut_title ,
    #about_shiro .tab_container {
      /* font-family:蘋方-繁, 微軟正黑體, Microsoft JhengHei, Noto Sans Traditional Chinese,sans-serif; */
      font-style: normal;
      /* font-weight: 300; */
    }
    .page_width{
      max-width: 864px;
      margin: auto ;
      width: 90%;
    }
    .about_fv .abut_title{
      padding: 70px 0 20px;
      font-size: 30px;
      /* font-weight: 700; */
      letter-spacing: 2px;
    }
  
  
  .about_fv{
    margin-top: 30px;
  }
  .about_fv h2{
    margin-bottom: 0;
  }
  .about_fv .paragraph{
      font-size: 16px;
      line-height: 32px;
      margin-bottom: 80px;
      letter-spacing: 1px;
      color: #393c3f;
    }
  .about_fv .paragraph p{
    margin-bottom: 30px;
  }
  .tab {
    margin: 0 auto;
    margin-top: 120px;
  }
  .about_content{
    margin-top: 70px;
    margin-bottom: 80px;
  }
  .about_content h2{
    margin-top: 70px;
    margin-bottom: 20px;
      font-size: 30px;
      /* font-weight: 400; */
      letter-spacing: 2px;
  }
  .about_content p{
    margin-bottom: 30px;
    font-size: 16px;
    line-height: 32px;
    letter-spacing: 1px;
    color: #393c3f;
  }
  /* .ideal .paragraph,
  .about_fv .paragraph {
    font-weight: 600;
  }  */
  /* .ideal h2{
    font-weight: 700;
  } */
  /* タブメニュー */
  .tab__menu {
    display: flex;
    margin-bottom: 80px;
    list-style: none;
    width: 70%;
    margin: 0 auto 80px auto;
    /* font-weight: 700; */
  }
  
  .tab__menu-item {
    width: 25%;
    padding: 8px 5px; 
    transition: all .3s; 
    margin: 10px 20px;
      padding-bottom: 12px;
      padding-left: 5px;
      font-size: 12px;
      letter-spacing: 5px;
      cursor: pointer;
      transition: all 0.25s ease-in-out;
      /* position: relative; */
      
  }
  
  /* is-activeがついている時のスタイル */
  .tab__menu-item.is-active {
    border-bottom: #393c3f 2px solid;
    font-size: 15.5px;
  }
  
  /* タブパネル */
  .tab__panel {
    display: flex;
    align-items: flex-start;
    /* max-width: 900px; */
    height: 300px;
    margin: 0 auto;
    position: relative;
    flex-direction: column;
    flex-wrap: nowrap;
    align-content: flex-end;
    justify-content: space-between;
  }
  
  .tab__panel-box {
    display: flex;
  
  }
  .tab__menu-item.is-active::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  height: 3px;
  width: 100%;
  opacity: 0;
  background: #393C21;
  transform: scale(0, 1);
  transform-origin: left center;
  transition: opacity 0.3s, transform 0.3s;
  border-bottom: 2px solid #000;
  color: red;
  }
  /* .tab__menu li.is-selected{
  color: #393C21;
  font-size: 16px;
  } */
  .tab__menu li.is-selected::after{
  opacity: 1;
    transform: scale(1, 1);
  width: 100%;
  
  }
  .tab__menu li a:hover:after {
    width: 100%;
    border-bottom: 2px solid #000;
  }
  
  .tab__panel-box001 ,.tab__panel-box002 ,.tab__panel-box003 ,.tab__panel-box004 {
    display: none;
  }
  
  /* is-showがついている時のスタイル */
  .tab__panel-box.is-show {
    display: block;
  }
  .tab_container{
    background-color: #F9F9F9;
    display: flex;
    align-items: flex-end;
  }
  .tab_text{
    width: 100%;
    display: flex;
    flex-direction: column;
    flex-grow: 1;
  }
  .tab_text h2{
    color: #393C21;
    font-size: 20px;
      display: inline-block;
      text-align: left;
      font-size: 20px;
      line-height: 40px;
      /* font-weight: 700; */
      letter-spacing: 8px;
      padding: 0 10px 10px 0;
      width: fit-content;
      border-bottom: #393C21 2px solid;
      margin-bottom: 0;
  }
  .tab_text h3{
    font-size: 30px;
      color: #393C21;
      line-height: 1.6;
      letter-spacing: 2px;
      padding-top: 45px;
      font-weight: 400;
  }
  .tab_container img{
    position: relative;
      padding-right: 30px;
      width: auto;
      border-radius: 4px;
      width: 50%;
  }
  @media screen and  ( max-width:767px) {
    .about_fv{
        margin-top: 0px;
      }
      .tab_container{
      display: block;
      }
      .tab_container img{
      padding-right: 0;
      border-radius: 4px;
      width: 100%;
      margin-top: 60px;
      }
    .tab__panel {
      height:auto;
      }
    .tab_text{
      margin-top: 30px;
    }
    .tab_text h3{
      font-size: 20px;
    }
    .tab__menu{
      margin-top: 50px;
      margin-bottom: 30px;
    }
    }
  
  
    @keyframes fadein-top  {
    0% {
    opacity: 0;
    transform: translateY(40px); 
    transition: transform 0.15s ease-in-out, opacity 0.15s ease-in-out, visibility 0.15s ease-in-out;
  
    }
    100% {
      opacity: 1;
      transform: translateY(0); 
  
    }
  }
    .is-show {
      animation: fadein-top 0.8s ease-out forwards;
    }
    </style>
  
  </div>
  
  <script>
    { /* ローカルスコープ */
  
  // DOM取得
  const tabMenus = document.querySelectorAll('.tab__menu-item');
  console.log(tabMenus);
  
  // イベント付加
  tabMenus.forEach((tabMenu) => {
    tabMenu.addEventListener('click', tabSwitch);
  })
  
  // イベントの処理
  function tabSwitch(e) {
  
    // クリックされた要素のデータ属性を取得
    const tabTargetData = e.currentTarget.dataset.tab;
    // クリックされた要素の親要素と、その子要素を取得
    const tabList = e.currentTarget.closest('.tab__menu');
    console.log(tabList);
    const tabItems = tabList.querySelectorAll('.tab__menu-item');
    console.log(tabItems);
    // クリックされた要素の親要素の兄弟要素の子要素を取得
    const tabPanelItems = tabList.
    nextElementSibling.querySelectorAll('.tab__panel-box');
    console.log(tabPanelItems);
  
    // クリックされたtabの同階層のmenuとpanelのクラスを削除
    tabItems.forEach((tabItem) => {
      tabItem.classList.remove('is-active');
    })
    tabPanelItems.forEach((tabPanelItem) => {
      tabPanelItem.classList.remove('is-show');
    })
  
    // クリックされたmenu要素にis-activeクラスを付加
    e.currentTarget.classList.add('is-active');
    // クリックしたmenuのデータ属性と等しい値を持つパネルにis-showクラスを付加
    tabPanelItems.forEach((tabPanelItem) => {
      if (tabPanelItem.dataset.panel ===  tabTargetData) {
        tabPanelItem.classList.add('is-show');
      }
    })
  
  }
  
  }
  </script>
  
  
  
  
  
    
    {% schema %}
  {
    "name": "about tab",
    "settings": [
    {
      "type": "text",
      "id": "title",
      "default": "デフォルトテキスト",
      "label": "common title"
    },
    {
      "type": "header",
      "content": "Tab 01"
      },
      {
        "type": "image_picker",
        "id": "tab_image_01",
        "label": "image"
      },
    {
      "type": "text",
      "id": "tab_title_01",
      "default": "テキスト",
      "label": "button"
    },
    {
      "type": "textarea",
      "id": "tab_content_01",
      "default": "デフォルトの文章です",
      "label": "content"
      },
      {
        "type": "header",
        "content": "Tab 02"
        },
        {
          "type": "image_picker",
          "id": "tab_image_02",
          "label": "image"
        },
      {
        "type": "text",
        "id": "tab_title_02",
        "default": "テキスト",
        "label": "button"
      },
      {
        "type": "textarea",
        "id": "tab_content_02",
        "default": "デフォルトの文章です",
        "label": "content"
      },
      {
        "type": "header",
        "content": "Tab 03"
        },
        {
          "type": "image_picker",
          "id": "tab_image_03",
          "label": "image"
        },
      {
        "type": "text",
        "id": "tab_title_03",
        "default": "テキスト",
        "label": "button"
      },
      {
        "type": "textarea",
        "id": "tab_content_03",
        "default": "デフォルトの文章です",
        "label": "content"
        },
        {
          "type": "header",
          "content": "Tab 04"
          },
          {
            "type": "image_picker",
            "id": "tab_image_04",
            "label": "image"
          },
        {
          "type": "text",
          "id": "tab_title_04",
          "default": "テキスト",
          "label": "button"
        },
        {
          "type": "textarea",
          "id": "tab_content_04",
          "default": "デフォルトの文章です",
          "label": "content"
          }
    ],
    "presets": [
      {
        "name": "About tab",
        "settings": {}
      }
    ]
  }
  {% endschema %}